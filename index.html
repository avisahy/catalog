<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catalog</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0d1117" />

  <link rel="icon" type="image/svg+xml" href="icon-192.svg" />
  <link rel="apple-touch-icon" href="icon-192.svg" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">

    <header class="app-header">
      <h1 class="app-title">Catalog</h1>
      <div class="app-header-right">
        <button id="themeToggle" class="icon-button"><span class="icon">üåô</span></button>
        <button id="installButton" class="install-button" hidden>Install</button>
      </div>
    </header>

    <main class="app-main">
      <section class="toolbar">
        <input id="searchInput" class="search" type="text" placeholder="Search items...">
      </section>

      <section id="catalogList" class="catalog"></section>

      <p id="emptyState" class="empty-state">No items yet. Tap ‚Äú+ Add Item‚Äù.</p>
    </main>

    <!-- FAB -->
    <button id="fabAdd" class="fab">+ Add Item</button>

    <!-- Add/Edit Modal -->
    <div id="itemModalBackdrop" class="modal-backdrop" hidden>
      <div class="modal">
        <div class="modal-header">
          <h2 id="modalTitle">Add item</h2>
          <button id="closeModalButton" class="icon-button">‚úï</button>
        </div>

        <form id="itemForm" class="modal-body">
          <input type="hidden" id="itemId">

          <label class="field">
            <span class="field-label">Name</span>
            <input id="itemName" type="text" required placeholder="Item name">
          </label>

          <label class="field">
            <span class="field-label">Picture</span>
            <input id="itemImage" type="file" accept="image/*" capture="environment">
          </label>

          <div id="imagePreviewContainer" class="image-preview" hidden>
            <img id="imagePreview" alt="Preview">
          </div>

          <p id="formError" class="form-error" hidden></p>

          <div class="modal-footer">
            <button type="button" id="cancelButton" class="secondary-button">Cancel</button>
            <button type="submit" class="primary-button">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModalBackdrop" class="modal-backdrop" hidden>
      <div class="modal modal-large">
        <div class="modal-header">
          <h2 id="detailTitle">Item</h2>
          <button id="closeDetailButton" class="icon-button">‚úï</button>
        </div>

        <div id="detailBody" class="modal-body"></div>

        <div class="modal-footer">
          <button id="deleteButton" class="danger-button">Delete</button>
          <button id="editButton" class="primary-button">Edit</button>
        </div>
      </div>
    </div>

    <!-- FULL SCREEN IMAGE VIEWER -->
    <div id="fullscreenViewer" class="fullscreen-viewer" hidden>
      <img id="fullscreenImage" alt="Full screen view">
    </div>

  </div>

  <script src="script.js"></script>
</body>
</html>
