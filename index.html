<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catalog</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#d9d9d9" />

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app">

    <!-- HEADER -->
    <header class="header">
      <h1 class="header-title">Catalog</h1>

      <button id="themeToggle" class="icon-btn">
        <span class="icon">üåô</span>
      </button>
    </header>

    <!-- SEARCH -->
    <div class="search-container">
      <input id="searchInput" class="search-input" type="text" placeholder="Search items..." />
    </div>

    <!-- GRID -->
    <main id="catalogList" class="grid"></main>
    <p id="emptyState" class="empty-state">No items yet. Tap ‚Äú+ Add Item‚Äù.</p>

    <!-- FAB -->
    <button id="fabAdd" class="fab">+ Add Item</button>

    <!-- ADD / EDIT MODAL -->
    <div id="itemModalBackdrop" class="modal-backdrop" hidden>
      <div class="modal">
        <div class="modal-header">
          <h2 id="modalTitle">Add Item</h2>
          <button id="closeModalButton" class="icon-btn">‚úï</button>
        </div>

        <form id="itemForm" class="modal-body">
          <input type="hidden" id="itemId" />

          <label class="field">
            <span class="field-label">Name</span>
            <input id="itemName" type="text" placeholder="Item name" required />
          </label>

          <label class="field">
            <span class="field-label">Picture</span>

            <input id="itemImage" type="file" accept="image/*" capture="environment" class="file-hidden" />

            <div id="uploadArea" class="upload-area">
              Tap here to upload picture
            </div>
          </label>

          <div id="imagePreviewContainer" class="image-preview" hidden>
            <img id="imagePreview" alt="Preview" />
          </div>

          <p id="formError" class="form-error" hidden></p>

          <div class="modal-footer">
            <button type="button" id="cancelButton" class="btn-secondary">Cancel</button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- DETAIL MODAL -->
    <div id="detailModalBackdrop" class="modal-backdrop" hidden>
      <div class="modal modal-large">
        <div class="modal-header">
          <h2 id="detailTitle">Item</h2>
          <button id="closeDetailButton" class="icon-btn">‚úï</button>
        </div>

        <div id="detailBody" class="modal-body"></div>

        <div class="modal-footer">
          <button id="deleteButton" class="btn-danger">Delete</button>
          <button id="editButton" class="btn-primary">Edit</button>
        </div>
      </div>
    </div>

    <!-- FULLSCREEN VIEWER -->
    <div id="fullscreenViewer" class="fullscreen" hidden>
      <img id="fullscreenImage" alt="Full screen" />
      <input id="zoomSlider" type="range" min="1" max="4" step="0.1" value="1" class="zoom-slider" />
    </div>

  </div>

  <script src="script.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
</body>
</html>
