<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />
  <title>Catalog</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0d1117" />

  <link rel="icon" type="image/svg+xml" href="icon-192.svg" />
  <link rel="apple-touch-icon" href="icon-192.svg" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app" id="app">
    <header class="app-header">
      <div class="app-header-left">
        <h1 class="app-title">Catalog</h1>
      </div>
      <div class="app-header-right">
        <button id="themeToggle" class="icon-button" aria-label="Toggle theme">
          <span class="icon">üåô</span>
        </button>
        <button id="installButton" class="install-button" hidden>
          Install
        </button>
      </div>
    </header>

    <main class="app-main">
      <section class="toolbar">
        <input
          id="searchInput"
          class="search"
          type="text"
          placeholder="Search items..."
          aria-label="Search items"
        />
      </section>

      <section class="catalog" id="catalogList" aria-label="Item catalog">
        <!-- Items injected by JS -->
      </section>

      <p id="emptyState" class="empty-state">
        No items yet. Tap ‚Äú+ Add Item‚Äù to create your first one.
      </p>
    </main>

    <!-- Floating Action Button -->
    <button id="fabAdd" class="fab" aria-label="Add item">
      + Add Item
    </button>

    <!-- Add/Edit modal -->
    <div class="modal-backdrop" id="itemModalBackdrop" hidden>
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-header">
          <h2 id="modalTitle">Add item</h2>
          <button class="icon-button" id="closeModalButton" aria-label="Close">
            ‚úï
          </button>
        </div>
        <form id="itemForm" class="modal-body">
          <input type="hidden" id="itemId" />

          <label class="field">
            <span class="field-label">Name</span>
            <input
              id="itemName"
              type="text"
              required
              placeholder="Item name"
              autocomplete="off"
            />
          </label>

          <label class="field">
            <span class="field-label">Picture</span>
            <input
              id="itemImage"
              type="file"
              accept="image/*"
              capture="environment"
            />
            <small class="field-help">
              Choose from gallery or use camera on mobile.
            </small>
          </label>

          <div id="imagePreviewContainer" class="image-preview" hidden>
            <img id="imagePreview" alt="Selected image preview" />
          </div>

          <p id="formError" class="form-error" hidden></p>

          <div class="modal-footer">
            <button type="button" class="secondary-button" id="cancelButton">
              Cancel
            </button>
            <button type="submit" class="primary-button" id="saveButton">
              Save
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Detail modal -->
    <div class="modal-backdrop" id="detailModalBackdrop" hidden>
      <div class="modal modal-large" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
        <div class="modal-header">
          <h2 id="detailTitle">Item</h2>
          <button class="icon-button" id="closeDetailButton" aria-label="Close">
            ‚úï
          </button>
        </div>
        <div class="modal-body" id="detailBody">
          <!-- Filled by JS -->
        </div>
        <div class="modal-footer">
          <button class="danger-button" id="deleteButton">
            Delete
          </button>
          <button class="primary-button" id="editButton">
            Edit
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
